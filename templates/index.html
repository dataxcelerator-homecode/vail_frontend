{% extends "base.html" %}

{% block title %}Upload - Keyboard Visualizer{% endblock %}

{% block content %}
<div class="hero">
    <h2>Visualize Your Vial Keyboard Layouts</h2>
    <p>Upload your .vil backup file to generate a beautiful visualization of all your keyboard layers.</p>
</div>

<div class="card">
    <h3>Upload File</h3>
    <form action="{{ url_for('upload_file') }}" method="post" enctype="multipart/form-data">
        <div class="form-group">
            <label for="file">Select .vil or .json file:</label>
            <input type="file" id="file" name="file" accept=".vil,.json" required>
        </div>

        <div class="section-title">
            <h4>Optional: Keycode Transformation</h4>
            <p class="help-text">Replace specific keycodes in a layer (e.g., change all transparent keys to disabled)</p>
        </div>

        <div class="form-row">
            <div class="form-group">
                <label for="rename_layer">Layer Index:</label>
                <input type="number" id="rename_layer" name="rename_layer" min="0" max="31" placeholder="e.g., 4">
            </div>

            <div class="form-group">
                <label for="rename_old">Old Keycode:</label>
                <input type="text" id="rename_old" name="rename_old" placeholder="e.g., KC_TRNS">
            </div>

            <div class="form-group">
                <label for="rename_new">New Keycode:</label>
                <input type="text" id="rename_new" name="rename_new" placeholder="e.g., KC_NO">
            </div>
        </div>

        <button type="submit" class="btn btn-primary">Generate Visualization</button>
    </form>
</div>

<div class="info-cards">
    <div class="info-card">
        <div class="icon">ðŸ“Š</div>
        <h4>Multi-Layer Support</h4>
        <p>Visualize all your keyboard layers in one comprehensive view</p>
    </div>
    <div class="info-card">
        <div class="icon">ðŸŽ¨</div>
        <h4>Color-Coded Keys</h4>
        <p>Different colors for layer keys, modifiers, and regular keys</p>
    </div>
    <div class="info-card">
        <div class="icon">ðŸ”„</div>
        <h4>Transform Keycodes</h4>
        <p>Replace specific keycodes before visualization</p>
    </div>
</div>
{% endblock %}

